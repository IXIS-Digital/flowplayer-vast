!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){var n=i(1),r=["application/x-mpegurl","video/webm","video/mp4"];e.exports={attach:function(e,t,i){if("transparent"!=t.conf.wmode)throw new Error("The player must have wmove = transparent for video clicks to work in IE.");if(!t.conf.playlist||!t.conf.playlist.length)throw new Error("The player must have a playlist configured.");var n=!1,r=null,s=!1,o=null,a=!1,l=!1,u=function(){r&&s&&!a&&(a=!0,t.setPlaylist([o,t.video]))};if(flowplayer.support.inlineVideo){var c=e.querySelectorAll(".fp-player")[0];c.addEventListener("click",function(e){var i="fp-ui"==e.target.className||"fp-engine"==e.target.className;i&&t.video.ad&&o.tracker.click()},!0)}this.loadVast(e,i,function(e){return r=e.length>0,e[0].js?t.trigger("vpaid_js",[e[0].js]):(e[0].clip&&(o=e[0].clip),void u())}),t.on("resume",function(){return void 0==r?t.stop():void(r&&!l&&(l=!0,t.play(0)))}),t.on("progress",function(t,i,r){if(i.video.ad){o.tracker.setProgress(r);var s=e.querySelectorAll(".fp-title")[0];n||(n=!0,s.onclick=function(){i.video.skip&&i.video.time>=i.video.skip&&(o.tracker.skip(),i.play(1))}),s&&(i.video.skip?i.video.skip&&r>=i.video.skip?s.innerHTML="Advertisement: <strong>Skip Ad &raquo;</strong>":s.innerHTML="Advertisement: Skippable in "+Math.round(i.video.skip-r)+" seconds...":s.innerHTML="Advertisement: Ends in "+Math.round(i.video.duration-r)+" seconds...")}}),t.on("ready",function(){s=!0,u(),t.video.ad&&o.tracker.load(),t.disable(t.video.ad||!1),l&&!t.video.ad&&(o.tracker.complete(),t.removePlaylistItem(0))})},loadVast:function(e,t,i){n.client.get(t,function(t){var s=[];t&&t.ads.forEach(function(t){t.creatives.some(function(i){if("linear"==i.type){var o={tracker:new n.tracker(t,i),skip:i.skipDelay,title:"Advertisement",ad:!0,sources:[]};o.tracker.on("clickthrough",function(e){window.open(e)});var a={},l={};return i.mediaFiles.forEach(function(o){if("application/javascript"==o.mimeType)return s.push({js:{src:o.fileURL,parameters:i.adParameters,tracker:new n.tracker(t,i)}});if(r.indexOf(o.mimeType)>-1){var u={width:o.width,height:o.height,seconds:i.duration,src:o.fileURL};(!l[o.mimeType]||l[o.mimeType].width>o.width)&&(l[o.mimeType]=u),e.offsetWidth>=o.width&&(!a[o.mimeType]||o.width>a[o.mimeType].width)&&(a[o.mimeType]=u)}}),r.forEach(function(e){var t=a[e]||l[e];t&&o.sources.push({type:e,seconds:t.seconds,width:t.width,height:t.height,src:t.src})}),o.sources.length>0&&s.push({clip:o}),!0}})}),i(s)})}}},function(e,t,i){var n,n;!function(t){e.exports=t()}(function(){return function e(t,i,r){function s(a,l){if(!i[a]){if(!t[a]){var u="function"==typeof n&&n;if(!l&&u)return n(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};t[a][0].call(h.exports,function(e){var i=t[a][1][e];return s(i?i:e)},h,h.exports,e,t,i,r)}return i[a].exports}for(var o="function"==typeof n&&n,a=0;a<r.length;a++)s(r[a]);return s}({1:[function(e,t,i){(function(){var e;e=function(){function e(){this.id=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[]}return e}(),t.exports=e}).call(this)},{}],2:[function(e,t,i){(function(){var n,r,s;r=e("./parser"),s=e("./util"),n=function(){function e(){}return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,n){var s,o,a;return o=+new Date,s=i.extend=function(e,t){var i,n;for(i in t)n=t[i],e[i]=n;return e},n||("function"==typeof t&&(n=t),a={}),a=s(this.options,t),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,this.cappingFreeLunch>=this.totalCalls?void n(null):o-this.lastSuccessfullAd<this.cappingMinimumTimeInterval?void n(null):r.parse(e,a,function(e){return function(e){return n(e)}}(this))},function(){var t,i;i=s.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return i.getItem(n)},set:function(e){return i.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0)}(),e}(),t.exports=n}).call(this)},{"./parser":7,"./util":13}],3:[function(e,t,i){(function(){var e;e=function(){function e(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.companionClickThroughURLTemplate=null,this.trackingEvents={}}return e}(),t.exports=e}).call(this)},{}],4:[function(e,t,i){(function(){var e,i,n,r,s={}.hasOwnProperty,o=function(e,t){function i(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};e=function(){function e(){this.trackingEvents={}}return e}(),n=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null}return o(t,e),t}(e),r=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return o(t,e),t}(e),i=function(e){function t(){this.type="companion",this.variations=[],this.videoClickTrackingURLTemplates=[]}return o(t,e),t}(e),t.exports={VASTCreativeLinear:n,VASTCreativeNonLinear:r,VASTCreativeCompanion:i}}).call(this)},{}],5:[function(e,t,i){(function(){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}}).call(this)},{"./client":2,"./parser":7,"./tracker":9,"./util":13}],6:[function(e,t,i){(function(){var e;e=function(){function e(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null}return e}(),t.exports=e}).call(this)},{}],7:[function(e,t,i){(function(){var i,n,r,s,o,a,l,u,c,h,p=[].indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(t in this&&this[t]===e)return t;return-1};n=e("./urlhandler"),c=e("./response"),r=e("./ad"),h=e("./util"),a=e("./creative").VASTCreativeLinear,o=e("./creative").VASTCreativeCompanion,l=e("./mediafile"),s=e("./companionad"),i=e("events").EventEmitter,u=function(){function e(){}var t;return t=[],e.addURLTemplateFilter=function(e){"function"==typeof e&&t.push(e)},e.removeURLTemplateFilter=function(){return t.pop()},e.countURLTemplateFilters=function(){return t.length},e.clearUrlTemplateFilters=function(){return t=[]},e.parse=function(e,t,i){return i||("function"==typeof t&&(i=t),t={}),this._parse(e,null,t,function(e,t){return i(t)})},e.vent=new i,e.track=function(e,t){return this.vent.emit("VAST-error",t),h.track(e,t)},e.on=function(e,t){return this.vent.on(e,t)},e.once=function(e,t){return this.vent.once(e,t)},e._parse=function(e,i,r,s){var o,a,l;for(s||("function"==typeof r&&(s=r),r={}),a=0,l=t.length;l>a;a++)o=t[a],e=o(e);return null==i&&(i=[]),i.push(e),n.get(e,r,function(t){return function(n,o){var a,l,u,h,d,f,m,v,g,k,y;if(null!=n)return s(n);if(d=new c,null==(null!=o?o.documentElement:void 0)||"VAST"!==o.documentElement.nodeName)return s();for(k=o.documentElement.childNodes,f=0,v=k.length;v>f;f++)h=k[f],"Error"===h.nodeName&&d.errorURLTemplates.push(t.parseNodeText(h));for(y=o.documentElement.childNodes,m=0,g=y.length;g>m;m++)h=y[m],"Ad"===h.nodeName&&(a=t.parseAdElement(h),null!=a?d.ads.push(a):t.track(d.errorURLTemplates,{ERRORCODE:101}));for(l=function(e){var i,n,r;if(null==e&&(e=!1),d){for(r=d.ads,i=0,n=r.length;n>i;i++)if(a=r[i],null!=a.nextWrapperURL)return;return 0===d.ads.length&&(e||t.track(d.errorURLTemplates,{ERRORCODE:303}),d=null),s(null,d)}},u=d.ads.length;u--;)a=d.ads[u],null!=a.nextWrapperURL&&!function(n){var s,o;return i.length>=10||(o=n.nextWrapperURL,p.call(i,o)>=0)?(t.track(n.errorURLTemplates,{ERRORCODE:302}),d.ads.splice(d.ads.indexOf(n),1),void l()):(-1===n.nextWrapperURL.indexOf("://")&&(s=e.slice(0,e.lastIndexOf("/")),n.nextWrapperURL=""+s+"/"+n.nextWrapperURL),t._parse(n.nextWrapperURL,i,r,function(e,i){var r,s,o,a,u,c,h,p,f,m,v,g,k,y,T,L,R,w;if(s=!1,null!=e)t.track(n.errorURLTemplates,{ERRORCODE:301}),d.ads.splice(d.ads.indexOf(n),1),s=!0;else if(null==i)t.track(n.errorURLTemplates,{ERRORCODE:303}),d.ads.splice(d.ads.indexOf(n),1),s=!0;else for(d.errorURLTemplates=d.errorURLTemplates.concat(i.errorURLTemplates),a=d.ads.indexOf(n),d.ads.splice(a,1),T=i.ads,h=0,p=T.length;p>h;h++){if(u=T[h],u.errorURLTemplates=n.errorURLTemplates.concat(u.errorURLTemplates),u.impressionURLTemplates=n.impressionURLTemplates.concat(u.impressionURLTemplates),null!=n.trackingEvents)for(L=u.creatives,g=0,f=L.length;f>g;g++)if(r=L[g],"linear"===r.type)for(R=Object.keys(n.trackingEvents),k=0,m=R.length;m>k;k++)o=R[k],(c=r.trackingEvents)[o]||(c[o]=[]),r.trackingEvents[o]=r.trackingEvents[o].concat(n.trackingEvents[o]);if(null!=n.videoClickTrackingURLTemplates)for(w=u.creatives,y=0,v=w.length;v>y;y++)r=w[y],"linear"===r.type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(n.videoClickTrackingURLTemplates));d.ads.splice(a,0,u)}return delete n.nextWrapperURL,l(s)}))}(a);return l()}}(this))},e.childByName=function(e,t){var i,n,r,s;for(s=e.childNodes,n=0,r=s.length;r>n;n++)if(i=s[n],i.nodeName===t)return i},e.childsByName=function(e,t){var i,n,r,s,o;for(n=[],o=e.childNodes,r=0,s=o.length;s>r;r++)i=o[r],i.nodeName===t&&n.push(i);return n},e.parseAdElement=function(e){var t,i,n,r;for(r=e.childNodes,i=0,n=r.length;n>i;i++){if(t=r[i],t.id=e.getAttribute("id"),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},e.parseWrapperElement=function(e){var t,i,n,r,s,o,a;for(t=this.parseInLineElement(e),r=this.childByName(e,"VASTAdTagURI"),null!=r?t.nextWrapperURL=this.parseNodeText(r):(r=this.childByName(e,"VASTAdTagURL"),null!=r&&(t.nextWrapperURL=this.parseNodeText(this.childByName(r,"URL")))),n=null,a=t.creatives,s=0,o=a.length;o>s;s++)if(i=a[s],"linear"===i.type){n=i;break}return null!=n&&(null!=n.trackingEvents&&(t.trackingEvents=n.trackingEvents),null!=n.videoClickTrackingURLTemplates&&(t.videoClickTrackingURLTemplates=n.videoClickTrackingURLTemplates)),null!=t.nextWrapperURL?t:void 0},e.parseInLineElement=function(e){var t,i,n,s,o,a,l,u,c,h,p,d,f,m;for(t=new r,t.id=e.id,d=e.childNodes,a=0,c=d.length;c>a;a++)switch(o=d[a],o.nodeName){case"Error":this.isUrl(o)&&t.errorURLTemplates.push(this.parseNodeText(o));break;case"Impression":this.isUrl(o)&&t.impressionURLTemplates.push(this.parseNodeText(o));break;case"Creatives":for(f=this.childsByName(o,"Creative"),l=0,h=f.length;h>l;l++)for(n=f[l],m=n.childNodes,u=0,p=m.length;p>u;u++)switch(s=m[u],s.nodeName){case"Linear":i=this.parseCreativeLinearElement(s),i&&t.creatives.push(i);break;case"CompanionAds":i=this.parseCompanionAd(s),i&&t.creatives.push(i)}}return t},e.parseCreativeLinearElement=function(e){var t,i,n,r,s,o,u,c,h,p,d,f,m,v,g,k,y,T,L,R,w,x,E,U,N,_,C,A,b,D,O,I,B,M,S,F;if(n=new a,n.duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===n.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(m=e.getAttribute("skipoffset"),null==m?n.skipDelay=null:"%"===m.charAt(m.length-1)?(d=parseInt(m,10),n.skipDelay=n.duration*(d/100)):n.skipDelay=this.parseDuration(m),y=this.childByName(e,"VideoClicks"),null!=y){for(n.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(y,"ClickThrough")),O=this.childsByName(y,"ClickTracking"),L=0,E=O.length;E>L;L++)i=O[L],n.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(I=this.childsByName(y,"CustomClick"),R=0,U=I.length;U>R;R++)r=I[R],n.videoCustomClickURLTemplates.push(this.parseNodeText(r))}for(t=this.childByName(e,"AdParameters"),null!=t&&(n.adParameters=this.parseNodeText(t)),B=this.childsByName(e,"TrackingEvents"),w=0,N=B.length;N>w;w++)for(g=B[w],M=this.childsByName(g,"Tracking"),x=0,_=M.length;_>x;x++)if(v=M[x],s=v.getAttribute("event"),k=this.parseNodeText(v),null!=s&&null!=k){if("progress"===s){if(p=v.getAttribute("offset"),!p)continue;s="%"===p.charAt(p.length-1)?"progress-"+p:"progress-"+Math.round(this.parseDuration(p))}null==(T=n.trackingEvents)[s]&&(T[s]=[]),n.trackingEvents[s].push(k)}for(S=this.childsByName(e,"MediaFiles"),b=0,C=S.length;C>b;b++)for(h=S[b],F=this.childsByName(h,"MediaFile"),D=0,A=F.length;A>D;D++)c=F[D],u=new l,u.id=c.getAttribute("id"),u.fileURL=this.parseNodeText(c),u.deliveryType=c.getAttribute("delivery"),u.codec=c.getAttribute("codec"),u.mimeType=c.getAttribute("type"),u.apiFramework=c.getAttribute("apiFramework"),u.bitrate=parseInt(c.getAttribute("bitrate")||0),u.minBitrate=parseInt(c.getAttribute("minBitrate")||0),u.maxBitrate=parseInt(c.getAttribute("maxBitrate")||0),u.width=parseInt(c.getAttribute("width")||0),u.height=parseInt(c.getAttribute("height")||0),f=c.getAttribute("scalable"),f&&"string"==typeof f&&(f=f.toLowerCase(),"true"===f?u.scalable=!0:"false"===f&&(u.scalable=!1)),o=c.getAttribute("maintainAspectRatio"),o&&"string"==typeof o&&(o=o.toLowerCase(),"true"===o?u.maintainAspectRatio=!0:"false"===o&&(u.maintainAspectRatio=!1)),n.mediaFiles.push(u);return n},e.parseCompanionAd=function(e){var t,i,n,r,a,l,u,c,h,p,d,f,m,v,g,k,y,T,L,R,w,x,E,U,N,_,C,A,b;for(n=new o,U=this.childsByName(e,"Companion"),f=0,k=U.length;k>f;f++){for(i=U[f],t=new s,t.id=i.getAttribute("id")||null,t.width=i.getAttribute("width"),t.height=i.getAttribute("height"),N=this.childsByName(i,"HTMLResource"),m=0,y=N.length;y>m;m++)a=N[m],t.type=a.getAttribute("creativeType")||"text/html",t.htmlResource=this.parseNodeText(a);for(_=this.childsByName(i,"IFrameResource"),v=0,T=_.length;T>v;v++)l=_[v],t.type=l.getAttribute("creativeType")||0,t.iframeResource=this.parseNodeText(l);for(C=this.childsByName(i,"StaticResource"),g=0,L=C.length;L>g;g++)u=C[g],t.type=u.getAttribute("creativeType")||0,t.staticResource=this.parseNodeText(u);for(A=this.childsByName(i,"TrackingEvents"),x=0,R=A.length;R>x;x++)for(h=A[x],b=this.childsByName(h,"Tracking"),E=0,w=b.length;w>E;E++)c=b[E],r=c.getAttribute("event"),p=this.parseNodeText(c),null!=r&&null!=p&&(null==(d=t.trackingEvents)[r]&&(d[r]=[]),t.trackingEvents[r].push(p));t.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(i,"CompanionClickThrough")),n.variations.push(t)}return n},e.parseDuration=function(e){var t,i,n,r,s;return null==e?-1:(t=e.split(":"),3!==t.length?-1:(s=t[2].split("."),r=parseInt(s[0]),2===s.length&&(r+=parseFloat("0."+s[1])),n=parseInt(60*t[1]),i=parseInt(60*t[0]*60),isNaN(i||isNaN(n||isNaN(r||n>3600||r>60)))?-1:i+n+r))},e.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},e.isUrl=function(e){return/[-a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?//=]*)/i.test(this.parseNodeText(e))},e}(),t.exports=u}).call(this)},{"./ad":1,"./companionad":3,"./creative":4,"./mediafile":6,"./response":8,"./urlhandler":10,"./util":13,events:14}],8:[function(e,t,i){(function(){var e;e=function(){function e(){this.ads=[],this.errorURLTemplates=[]}return e}(),t.exports=e}).call(this)},{}],9:[function(e,t,i){(function(){var i,n,r,s,o,a={}.hasOwnProperty,l=function(e,t){function i(){this.constructor=e}for(var n in t)a.call(t,n)&&(e[n]=t[n]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};n=e("./client"),o=e("./util"),r=e("./creative").VASTCreativeLinear,i=e("events").EventEmitter,s=function(e){function t(e,t){var i,s,o;this.ad=e,this.creative=t,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],o=this.creative.trackingEvents;for(i in o)s=o[i],this.trackingEvents[i]=s.slice(0);this.creative instanceof r?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1),this.on("start",function(){n.lastSuccessfullAd=+new Date})}return l(t,e),t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,i,n,r,s,o,a,l,u;if(s=null===this.skipDelay?this.skipDelayDefault:this.skipDelay,-1===s||this.skipable||(s>e?this.emit("skip-countdown",s-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(i=[],e>0){i.push("start"),n=Math.round(e/this.assetDuration*100),i.push("progress-"+n+"%"),i.push("progress-"+Math.round(e)),u=this.quartiles;for(r in u)o=u[r],e>=o&&o+1>=e&&i.push(r)}for(a=0,l=i.length;l>a;a++)t=i[a],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setSkipDelay=function(e){return"number"==typeof e?this.skipDelay=e:void 0},t.prototype.load=function(){return this.impressed?void 0:(this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView"))},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.stop=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,i;return(null!=(i=this.clickTrackingURLTemplates)?i.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate?(this.linear&&(t={CONTENTPLAYHEAD:this.progressFormated()}),e=o.resolveURLTemplates([this.clickThroughURLTemplate],t)[0],this.emit("clickthrough",e)):void 0},t.prototype.track=function(e,t){var i,n;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),n=this.trackingEvents[e],i=this.emitAlwaysEvents.indexOf(e),null!=n?(this.emit(e,""),this.trackURLs(n)):-1!==i&&this.emit(e,""),t===!0&&(delete this.trackingEvents[e],i>-1&&this.emitAlwaysEvents.splice(i,1))},t.prototype.trackURLs=function(e,t){return null==t&&(t={}),this.linear&&(t.CONTENTPLAYHEAD=this.progressFormated()),o.track(e,t)},t.prototype.progressFormated=function(){var e,t,i,n,r;return r=parseInt(this.progress),e=r/3600,e.length<2&&(e="0"+e),t=r/60%60,t.length<2&&(t="0"+t),n=r%60,n.length<2&&(n="0"+t),i=parseInt(100*(this.progress-r)),""+e+":"+t+":"+n+"."+i},t}(i),t.exports=s}).call(this)},{"./client":2,"./creative":4,"./util":13,events:14}],10:[function(e,t,i){(function(){var i,n,r;r=e("./urlhandlers/xmlhttprequest"),n=e("./urlhandlers/flash"),i=function(){function t(){}return t.get=function(t,i,s){return s||("function"==typeof i&&(s=i),i={}),i.urlhandler&&i.urlhandler.supported()?i.urlhandler.get(t,i,s):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,i,s):r.supported()?r.get(t,i,s):n.supported()?n.get(t,i,s):s()},t}(),t.exports=i}).call(this)},{"./urlhandlers/flash":11,"./urlhandlers/xmlhttprequest":12}],11:[function(e,t,i){(function(){var e;e=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,i){var n,r;return(r="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(r.async=!1,n=this.xdr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onprogress=function(){},n.onload=function(){return r.loadXML(n.responseText),i(null,r)}):i()},e}(),t.exports=e}).call(this)},{}],12:[function(e,t,i){(function(){var e;e=function(){function e(){}return e.xhr=function(){var e;return e=new window.XMLHttpRequest,"withCredentials"in e?e:void 0},e.supported=function(){return!!this.xhr()},e.get=function(e,t,i){var n;try{return n=this.xhr(),n.open("GET",e),n.timeout=t.timeout||0,n.withCredentials=t.withCredentials||!1,n.send(),n.onreadystatechange=function(){return 4===n.readyState?i(null,n.responseXML):void 0}}catch(r){return i()}},e}(),t.exports=e}).call(this)},{}],13:[function(e,t,i){(function(){var e;e=function(){function e(){}return e.track=function(e,t){var i,n,r,s,o,a;for(n=this.resolveURLTemplates(e,t),a=[],s=0,o=n.length;o>s;s++)i=n[s],"undefined"!=typeof window&&null!==window&&(r=new Image,a.push(r.src=i));return a},e.resolveURLTemplates=function(e,t){var i,n,r,s,o,a,l,u,c;n=[],null==t&&(t={}),"CACHEBUSTING"in t||(t.CACHEBUSTING=Math.round(1e10*Math.random())),t.random=t.CACHEBUSTING;for(u=0,c=e.length;c>u;u++)if(i=e[u],a=i){for(r in t)l=t[r],s="["+r+"]",o="%%"+r+"%%",a=a.replace(s,l),a=a.replace(o,l);n.push(a)}return n},e.storage=function(){var e,t,i,n;try{i="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(r){n=r,i=null}return t=function(e){var t,i;try{if(i="__VASTUtil__",e.setItem(i,i),e.getItem(i)!==i)return!0}catch(n){return t=n,!0}return!1},(null==i||t(i))&&(e={},i={length:0,getItem:function(t){return e[t]},setItem:function(t,i){e[t]=i,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),i}(),e}(),t.exports=e}).call(this)},{}],14:[function(e,t,i){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function s(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function a(e){return void 0===e}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if(!s(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,i,n,s,l,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i=this._events[e],a(i))return!1;if(r(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:for(n=arguments.length,s=new Array(n-1),l=1;n>l;l++)s[l-1]=arguments[l];i.apply(this,s)}else if(o(i)){for(n=arguments.length,s=new Array(n-1),l=1;n>l;l++)s[l-1]=arguments[l];for(u=i.slice(),n=u.length,l=0;n>l;l++)u[l].apply(this,s)}return!0},n.prototype.addListener=function(e,t){var i;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var i;i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[e].length>i&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){function i(){this.removeListener(e,i),n||(n=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var n=!1;return i.listener=t,this.on(e,i),this},n.prototype.removeListener=function(e,t){var i,n,s,a;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(i=this._events[e],s=i.length,n=-1,i===t||r(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(i)){for(a=s;a-- >0;)if(i[a]===t||i[a].listener&&i[a].listener===t){n=a;break}if(0>n)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[e],r(i))this.removeListener(e,i);else for(;i.length;)this.removeListener(e,i[i.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.listenerCount=function(e,t){var i;return i=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}]},{},[5])(5)})}]);